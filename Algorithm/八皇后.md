```
#include <stdio.h>
#include <stdlib.h>
#include <stdbool.h>


int result[8]; //全局数组，下标表示行，值表示queen存储在那一列


//判断该节点是否可以放入信息
bool isOk(int row,int column) {
    int i;

     int leftup = column - 1;
     int rightup = column + 1;

    for(i = row-1;i >=0; i--) {
        if (result[i] == column) {
            return false;
        }
        //判断该列是否有值

        //判断左上对角线是否有值
        if (leftup >=0) {
            if (result[i] == leftup) {
                return false;
            }
        }

        //判断右上对角线是否有值
        if (rightup < 8) {
            if (result[i] == rightup) {
                return false;
            }
        }

        leftup--;
        rightup++;
    }
    return true;
}

//打印
void printQueen() {
    int row,column;
    for (row = 0;row < 8;row++) {
        for (column = 0; column < 8;column++) {
            if (result[row] == column) {
                printf("Q ");
            } else {
                printf("* ");
            }
        }
        printf("\n");
    }
    printf("\n");
}

//调用
void cal8queens(int row) {
    int column;

    if (row == 8) {
        printQueen();
        return;
    }

    for (column = 0;column < 8; column++) {
        if (isOk(row,column)) {
            result[row] = column;
            cal8queens(row + 1);
        }
    }
}


int main() {
    cal8queens(0);
    return 0;
}
 
```
