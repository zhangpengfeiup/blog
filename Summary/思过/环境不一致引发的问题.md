本地测试没有问题，但是上线就有问题，这是为什么呢？

马后炮一下，归根结底两个环境还不是完全的一致，或者测试变量没有完全一致。如果环境一致，测试的变量和流程一致，那么相同的环境产生的结果是肯定相同的，这也就是幂等处理就是相同变量相同环境，处理的结果是完全一样的。